###############################################################
# ALZ Module - Example Configuration
# Copy this file to terraform.tfvars and customize values
###############################################################

# Required
location = "westeurope"

# Architecture
architecture_name = "prod"

# Parent (optional - defaults to tenant root)
# parent_resource_id = "/providers/Microsoft.Management/managementGroups/my-root"

###############################################################
# SUBSCRIPTION PLACEMENT
###############################################################
management_subscription_id   = "00000000-0000-0000-0000-000000000001"
connectivity_subscription_id = "00000000-0000-0000-0000-000000000002"
identity_subscription_id     = "00000000-0000-0000-0000-000000000003"
security_subscription_id     = "00000000-0000-0000-0000-000000000004"

# Additional subscriptions (e.g., Corp subscriptions)
additional_subscription_placement = {
  sub-apimanager = {
    subscription_id       = "00000000-0000-0000-0000-000000000005"
    management_group_name = "mg-corp"
  }
  sub-webapp = {
    subscription_id       = "00000000-0000-0000-0000-000000000006"
    management_group_name = "mg-online"
  }
}

###############################################################
# POLICY DEFAULT VALUES
###############################################################
policy_default_values = {
  # AMBA (Azure Monitor Baseline Alerts) settings
  amba_alz_management_subscription_id = "00000000-0000-0000-0000-000000000001"
  amba_alz_resource_group_location    = "westeurope"
  amba_alz_resource_group_name        = "rg-amba-prod-weu"
  amba_alz_disable_tag_name           = "MonitorDisable"
  amba_alz_disable_tag_values         = "[\"true\", \"Test\", \"Dev\"]"
  amba_alz_action_group_email         = "[\"platform-team@company.com\"]"

  # Log Analytics
  log_analytics_workspace_id = "/subscriptions/00000000-0000-0000-0000-000000000001/resourceGroups/rg-mgmt-prod-weu/providers/Microsoft.OperationalInsights/workspaces/log-mgmt-prod-weu"

  # Private DNS Zone settings
  private_dns_zone_subscription_id     = "00000000-0000-0000-0000-000000000002"
  private_dns_zone_region              = "westeurope"
  private_dns_zone_resource_group_name = "rg-con-prod-weu-private-dns"
}

###############################################################
# POLICY ASSIGNMENTS TO MODIFY
###############################################################
policy_assignments_to_modify = {
  mg-lzr = {
    policy_assignments = {
      Deploy-AMBA-Notification = {
        parameters = {
          ALZAlertSeverity = "2"
        }
      }
      Deploy-MDFC-Config-H224 = {
        parameters = {
          emailSecurityContact = "security-team@company.com"
        }
      }
    }
  }
  mg-plat = {
    policy_assignments = {
      Enable-DDoS-VNET = {
        parameters = {
          ddosPlan = "/subscriptions/00000000-0000-0000-0000-000000000002/resourceGroups/rg-ddos/providers/Microsoft.Network/ddosProtectionPlans/ddos-plan-prod"
        }
      }
    }
  }
  mg-idt = {
    policy_assignments = {
      Deploy-VM-Backup = {
        parameters = {
          exclusionTagValue = "[\"NoBackup\"]"
        }
      }
    }
  }
}

###############################################################
# TAGS
###############################################################
tags = {
  Environment = "Production"
  Project     = "Azure-Landing-Zone"
  Owner       = "Platform-Team"
  CostCenter  = "IT-Infrastructure"
}
